USE [TeamA_Project]

-- 新增 並設定 NULL
ALTER TABLE [dbo].[UsedBooks]
ADD CategoryId INT NULL;
GO

-- 填補
UPDATE [dbo].[UsedBooks]
SET CategoryId = 1
WHERE CategoryId IS NULL;
GO

-- 改 NOT NULL
ALTER TABLE [dbo].[UsedBooks]
ALTER COLUMN CategoryId INT NOT NULL;
GO

-- 加上外鍵限制
ALTER TABLE [dbo].[UsedBooks]
ADD CONSTRAINT FK_UsedBook_BookCategory
FOREIGN KEY (CategoryId) REFERENCES [dbo].[BookCategories](Id);
GO

-- 更新當前所有資料
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'74C3588A-FD19-42E8-8C8D-2E88B640834D';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'60B6F159-5107-4BB3-96B4-8E41331A41B9';
UPDATE [dbo].[UsedBooks] SET CategoryId = 1 WHERE Id = N'63DD165B-631B-4902-991A-F4D13708EF08';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'C9BF1DF1-644F-4925-AA30-23A411C7121F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'3565CBFF-5781-485D-B9D1-08D8F5DA4DD0';
UPDATE [dbo].[UsedBooks] SET CategoryId = 11 WHERE Id = N'0E42D500-EF84-431A-A209-59B94180DC2F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'5C0DC061-2ED5-425E-87D9-B6D8AB3F43B2';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'2DD62BAE-CA9F-488A-B059-EA60BA288033';
UPDATE [dbo].[UsedBooks] SET CategoryId = 4 WHERE Id = N'D27CE7E1-CE4A-41A6-A811-51B62970184F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'7E6712D5-135C-478B-A083-DFFD61D532FC';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'4F04DF1A-0B81-4089-A04E-1F60B6C81FB2';
UPDATE [dbo].[UsedBooks] SET CategoryId = 11 WHERE Id = N'247D4205-8628-411F-A8FA-7AA6563E5146';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'7E024ABB-48B1-4A7D-8B3C-3065C4DF951A';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'A7548562-0347-4214-B0B4-5170BE6D5131';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'DE98EFE6-EA14-4427-8F0C-1EBF84566CF7';
UPDATE [dbo].[UsedBooks] SET CategoryId = 13 WHERE Id = N'4729BC4B-A00F-408A-8212-300B4E69F8E1';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'4A8DF41C-8BFF-452D-8E79-3636018B1517';
UPDATE [dbo].[UsedBooks] SET CategoryId = 4 WHERE Id = N'2CA31563-A1C2-49C3-9B00-1681C8063FDF';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'92FB0774-F7E7-4148-B646-0747B7DFB13D';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'0E270CD3-0E14-4F11-AE59-B5E8F850386E';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'7B20926B-17ED-4823-B24C-68F01C3918CC';
UPDATE [dbo].[UsedBooks] SET CategoryId = 15 WHERE Id = N'183215E2-2CA2-40C1-8870-18A27FA3E80E';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'E96DC93F-32C1-448A-84FC-9FD373C2810F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 9 WHERE Id = N'A643F3ED-0C27-4923-B702-69CE5E2F10CB';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'B1298298-5B9A-489C-AA07-E19AF6F09493';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'156FFA7F-D8FA-4CCE-8A80-FC24751F9318';
UPDATE [dbo].[UsedBooks] SET CategoryId = 21 WHERE Id = N'816F24E5-6AA4-45D7-987A-DBBD401A3DB5';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'A08E5951-610A-4198-BD4E-79CA0D721EE4';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'7CE93F97-5098-4AC5-B120-8D4938A85949';
UPDATE [dbo].[UsedBooks] SET CategoryId = 16 WHERE Id = N'14CC9BE3-319C-4E31-A97F-DD4B68906861';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'BC22ECBA-DC65-4660-8A93-D2A237651984';
UPDATE [dbo].[UsedBooks] SET CategoryId = 1 WHERE Id = N'DD0547FE-FB2A-429A-829B-550D91773EB1';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'E63EE589-2F23-4E05-9EDE-00A4E0E0DE46';
UPDATE [dbo].[UsedBooks] SET CategoryId = 4 WHERE Id = N'FD7D50D4-7328-4CCD-8EFA-5B6F16EFA404';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'C08CE690-3687-4EE5-9B12-07771DD72DC4';
UPDATE [dbo].[UsedBooks] SET CategoryId = 1 WHERE Id = N'5E1E1AB2-B126-4333-B94A-881BC58DB59C';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'B309561C-3E73-4059-9345-7764A05A8434';
UPDATE [dbo].[UsedBooks] SET CategoryId = 21 WHERE Id = N'DE1FCF41-339E-42DC-84CB-48638D4590B8';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'5E024C17-68CC-4131-9252-C40899650A31';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'31DFBDEB-01D6-4848-965A-9DFAB8C5EFFE';
UPDATE [dbo].[UsedBooks] SET CategoryId = 20 WHERE Id = N'99569848-CE5A-4669-925B-B4D43AA29277';
UPDATE [dbo].[UsedBooks] SET CategoryId = 13 WHERE Id = N'D99C47FC-BC1D-4EB9-8976-C6CA4A96F9C5';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'0736CA8A-9004-4A83-80F8-44E975F1E5AB';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'104F58CA-D5B4-47CC-AB85-349E76C0AB65';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'C5C019CE-251F-44E9-8955-F5A156ACEF82';
UPDATE [dbo].[UsedBooks] SET CategoryId = 11 WHERE Id = N'76F0FDF3-0829-4FFD-B3F4-1ADCDD245C85';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'D7C24A9F-2CF0-4CB9-A564-1A2E656EA627';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'80E31B74-1EC3-42B7-AE4F-2457BFC5656E';
UPDATE [dbo].[UsedBooks] SET CategoryId = 15 WHERE Id = N'423A90C6-0386-4B1B-848C-D016B41176D9';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'3BFBB94F-411C-4213-AA39-5AC3AF8C59EF';
UPDATE [dbo].[UsedBooks] SET CategoryId = 9 WHERE Id = N'2BC578B6-F7CD-41CB-BEFB-34A485E1A764';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'D46EA6A5-8549-4E15-890A-79B766F0A0EB';
UPDATE [dbo].[UsedBooks] SET CategoryId = 15 WHERE Id = N'221CF65B-86CD-4BAC-A97B-D254625B8342';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'226BB637-F9CF-4D9C-8A05-A49D1CB50D07';
UPDATE [dbo].[UsedBooks] SET CategoryId = 4 WHERE Id = N'BCB5CDDC-7DFA-472C-B5D4-FE7DBAD954FE';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'408F68DB-D24A-4DE7-9D05-B5AFF800AE78';
UPDATE [dbo].[UsedBooks] SET CategoryId = 15 WHERE Id = N'8A4E5016-37A1-4966-AA02-C1F3231979C7';
UPDATE [dbo].[UsedBooks] SET CategoryId = 13 WHERE Id = N'6A95C88A-D667-4771-B388-D3BA2F0F7629';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'5C0616FD-8381-4B5C-A10E-01211A079EA9';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'5F3C2CD0-A71F-4962-A25C-E741B33C4E84';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'19E78303-F312-4368-955B-D3B4BED8E628';
UPDATE [dbo].[UsedBooks] SET CategoryId = 20 WHERE Id = N'F17D42D6-A60C-49BD-BAC8-A82A48EACCA5';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'BA255E0C-958C-4B75-A9AC-0D3B8ED9E0F8';
UPDATE [dbo].[UsedBooks] SET CategoryId = 1 WHERE Id = N'055E54D4-C4BC-4DFD-B711-A02E36B5B475';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'824BDE0E-6477-43FE-9D06-911B0461D49D';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'0617A35F-E450-47AB-B583-0B48DEF3CD2A';
UPDATE [dbo].[UsedBooks] SET CategoryId = 16 WHERE Id = N'7F141655-994C-4CD6-A6F2-A7BBB0543C63';
UPDATE [dbo].[UsedBooks] SET CategoryId = 13 WHERE Id = N'6F3FE08E-CA56-40E6-BE73-91543E9E772A';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'FE6AF8A7-907B-4747-976B-165E10A3036F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'B0B02F08-8695-43FC-B71E-5C2AD8B3CF85';
UPDATE [dbo].[UsedBooks] SET CategoryId = 6 WHERE Id = N'82E85AF5-1F90-4C69-9C71-D682A92524F2';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'09114486-877E-4BE8-8E1A-152DAFA73792';
UPDATE [dbo].[UsedBooks] SET CategoryId = 16 WHERE Id = N'5CE0AE3A-0829-404E-A021-4224E77734E4';
UPDATE [dbo].[UsedBooks] SET CategoryId = 21 WHERE Id = N'D891C36C-8CFF-466E-B60C-D2F05073A825';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'50EE680C-18A0-4496-B54F-89415805EC36';
UPDATE [dbo].[UsedBooks] SET CategoryId = 13 WHERE Id = N'2884A31F-40E5-45F1-A254-F3592A616F09';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'3DB35A37-9988-4E70-AD68-FCC499F86024';
UPDATE [dbo].[UsedBooks] SET CategoryId = 17 WHERE Id = N'90CBF1AD-7A5A-41AE-8B52-BBCEEB389C2F';
UPDATE [dbo].[UsedBooks] SET CategoryId = 9 WHERE Id = N'56B08755-C6BF-47CF-9BEC-B92EF0925B88';
UPDATE [dbo].[UsedBooks] SET CategoryId = 2 WHERE Id = N'D6BFD4C9-9FC9-447C-B636-B1FE985A549A';
UPDATE [dbo].[UsedBooks] SET CategoryId = 21 WHERE Id = N'04D83317-5372-49C0-87BD-8DB7EF2F63A5';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'EAEABBA7-F87E-4317-988D-A411D8527EAB';
UPDATE [dbo].[UsedBooks] SET CategoryId = 12 WHERE Id = N'86B57874-DB36-44B1-AC5B-5670E4BDB14C';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'F276A2B4-B1EA-4859-9A50-82FBCD538E24';
UPDATE [dbo].[UsedBooks] SET CategoryId = 10 WHERE Id = N'95650459-418A-42B0-BD89-E847B5328B22';
UPDATE [dbo].[UsedBooks] SET CategoryId = 21 WHERE Id = N'5262DEF9-E81D-487D-A46C-466DC7758941';
UPDATE [dbo].[UsedBooks] SET CategoryId = 5 WHERE Id = N'630041F7-D4ED-4DE9-B93D-CA4DC99F37C4';
UPDATE [dbo].[UsedBooks] SET CategoryId = 3 WHERE Id = N'AF50E46C-2E44-4BB4-B90D-45EDC0DF47E8';
UPDATE [dbo].[UsedBooks] SET CategoryId = 4 WHERE Id = N'1604ED27-6849-4D60-B4B0-CED9D55DAECA';
UPDATE [dbo].[UsedBooks] SET CategoryId = 14 WHERE Id = N'91929BB2-004D-4C49-A4CA-F31053A91090';
